{"version":3,"file":"static/js/798.9a49c0eb.chunk.js","mappings":"2PAiFA,UArEA,WACE,IAAQA,GAAgBC,EAAAA,EAAAA,KAAhBD,YACFE,GAAUC,EAAAA,EAAAA,MACVC,GAAWC,EAAAA,EAAAA,UACXC,GAAWC,EAAAA,EAAAA,MACTC,GAAcC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,GAAGC,SAA9CJ,UACAK,GAAgBJ,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,MAA7CE,YACR,GAA8CJ,EAAAA,EAAAA,KAC5C,SAACC,GAAD,OAAWA,EAAMI,QADXC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,oBAIhBC,EAAe,yCAAG,WAAOC,GAAP,mFACtBA,EAAEC,iBACIC,EAAWhB,EAASiB,QAAQC,MAFZ,kBAIdtB,EACJuB,EAAAA,EAAAA,QACAC,EAAAA,EAAAA,eACA,OACAC,KAAKC,UAAU,CACbN,SAAAA,EACAO,UAAWX,GAA4CD,KAVvC,OAapBT,EAASsB,EAAAA,EAAAA,wBAAkC,gDAC3C1B,EAAQ2B,KAAK,yBACbC,YAAW,WACTxB,EAASsB,EAAAA,EAAAA,8BACR,KAjBiB,4GAAH,sDAqBrB,OACE,UAAC,IAAD,CAAWG,UAAU,8CAArB,WACE,eAAIA,UAAU,0BAAd,wCACA,iBAAKA,UAAU,kEAAf,WACE,eAAIA,UAAU,qBAAd,wCACA,kBAAMA,UAAU,0BAA0BC,SAAUf,EAApD,WACE,iBAAKc,UAAU,0BAAf,WACE,iBAAMA,UAAU,GAAhB,gCACA,kBACEE,KAAK,OACLF,UAAU,gEACVG,YAAY,8BACZC,IAAK/B,QAGT,iBAAK2B,UAAU,4BAAf,WACE,0CACA,iBAAKA,UAAU,oBAAf,WACE,SAAC,IAAD,CAAUA,UAAU,oBAAoBK,SAAS,iBAChDvB,IAAgBU,EAAAA,EAAAA,gBACf,SAAC,IAAD,CAAYQ,UAAU,YAGzBvB,IAAa,SAAC,IAAD,CAAOuB,UAAU,YAEhClB,IAAgBU,EAAAA,EAAAA,UACf,gBAAKQ,UAAU,6BAAf,UACE,SAAC,IAAD,OAGJ,mBAAQA,UAAU,4BAAlB","sources":["admin/pages/AddUser.js"],"sourcesContent":["import React, { useRef } from \"react\";\nimport Requests from \"../../shared/api/Requests\";\nimport useHttpClient from \"../../shared/hooks/http-hook\";\nimport Container from \"../../student/components/UI/Container\";\nimport RoleList from \"../components/RoleList/RoleList\";\nimport { useHistory } from \"react-router-dom\";\nimport { uiActions } from \"../../shared/store/ui-slice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Error } from \"../../shared/components/Error/Error\";\nimport { LoadingList } from \"../../shared/api/LoadingList\";\nimport { LoadingDot } from \"../../shared/components/LoadingDot/LoadingDot\";\n\nfunction AddUser() {\n  const { sendRequest } = useHttpClient();\n  const history = useHistory();\n  const inputRef = useRef();\n  const dispatch = useDispatch();\n  const { isShowing } = useSelector((state) => state.ui.error);\n  const { loadingType } = useSelector((state) => state.ui);\n  const { selectedType, selectedTypeChanged } = useSelector(\n    (state) => state.item\n  );\n\n  const onSubmitHandler = async (e) => {\n    e.preventDefault();\n    const username = inputRef.current.value;\n    try {\n      await sendRequest(\n        LoadingList.addUser,\n        Requests.addUserRequest,\n        \"POST\",\n        JSON.stringify({\n          username,\n          role_name: selectedTypeChanged ? selectedTypeChanged : selectedType,\n        })\n      );\n      dispatch(uiActions.showSuccessNotification(\"Thêm tài khoản thành công!\"));\n      history.push(\"/E-boxVLU/admin/users\");\n      setTimeout(() => {\n        dispatch(uiActions.closeSuccessNotification());\n      }, 2000);\n    } catch (error) {}\n  };\n\n  return (\n    <Container className=\"m-auto w-11/12 h-full py-24 px-20 space-y-6\">\n      <h1 className=\"text-2xl font-semibold \">Thêm tài khoản</h1>\n      <div className=\"flex flex-col bg-white py-10 rounded-md items-center space-y-10\">\n        <h1 className=\"text-2xl font-bold\">Thêm tài khoản</h1>\n        <form className=\"flex flex-col space-y-4\" onSubmit={onSubmitHandler}>\n          <div className=\"flex flex-col space-y-2\">\n            <span className=\"\">Tài khoản</span>\n            <input\n              type=\"text\"\n              className=\"px-4 py-2 outline-none border rounded-md border-gray-300 w-72\"\n              placeholder=\"Nhập tài khoản\"\n              ref={inputRef}\n            />\n          </div>\n          <div className=\"flex flex-col space-y-2 l\">\n            <span>Vai trò</span>\n            <div className=\"flex items-center\">\n              <RoleList className=\"border min-w-full\" selected=\"Sinh Viên\" />\n              {loadingType === LoadingList.fetchRoleList && (\n                <LoadingDot className=\"ml-4\" />\n              )}\n            </div>\n            {isShowing && <Error className=\"w-72\" />}\n          </div>\n          {loadingType === LoadingList.addUser && (\n            <div className=\"w-full flex justify-center\">\n              <LoadingDot />\n            </div>\n          )}\n          <button className=\"btn-primary w-fit mx-auto\">Xác nhận</button>\n        </form>\n      </div>\n    </Container>\n  );\n}\n\nexport default AddUser;\n"],"names":["sendRequest","useHttpClient","history","useHistory","inputRef","useRef","dispatch","useDispatch","isShowing","useSelector","state","ui","error","loadingType","item","selectedType","selectedTypeChanged","onSubmitHandler","e","preventDefault","username","current","value","LoadingList","Requests","JSON","stringify","role_name","uiActions","push","setTimeout","className","onSubmit","type","placeholder","ref","selected"],"sourceRoot":""}